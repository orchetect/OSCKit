{"schemaVersion":{"patch":0,"major":0,"minor":3},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/osckit-tcp.OSCKit\/documentation\/OSCKit\/Sending-OSC"},"sections":[],"primaryContentSections":[{"content":[{"type":"heading","anchor":"Overview","level":2,"text":"Overview"},{"type":"heading","anchor":"UDP","level":2,"text":"UDP"},{"type":"paragraph","inlineContent":[{"type":"text","text":"For the UDP protocol, both "},{"type":"reference","isActive":true,"identifier":"doc:\/\/osckit-tcp.OSCKit\/documentation\/OSCKit\/OSCUDPClient"},{"type":"text","text":" and "},{"type":"reference","isActive":true,"identifier":"doc:\/\/osckit-tcp.OSCKit\/documentation\/OSCKit\/OSCUDPSocket"},{"type":"text","text":" are capable of sending messages using the same API."}]},{"type":"codeListing","code":["try oscClient.send(\/* ... *\/, to: \"192.168.1.2\", port: 8000)"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"See "},{"identifier":"#OSC-Messages","type":"reference","isActive":true},{"type":"text","text":" and "},{"identifier":"#OSC-Bundles","type":"reference","isActive":true},{"type":"text","text":" below for details on how to construct messages and bundles."}]},{"type":"heading","anchor":"TCP","level":2,"text":"TCP"},{"type":"paragraph","inlineContent":[{"type":"text","text":"For the TCP protocol, both "},{"identifier":"doc:\/\/osckit-tcp.OSCKit\/documentation\/OSCKit\/OSCTCPClient","type":"reference","isActive":true},{"type":"text","text":" and "},{"identifier":"doc:\/\/osckit-tcp.OSCKit\/documentation\/OSCKit\/OSCTCPServer","type":"reference","isActive":true},{"type":"text","text":" are capable of sending messages using slightly different API."}]},{"type":"heading","anchor":"TCP-Client","level":3,"text":"TCP Client"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Ensure the client is connected to the remote server first (see "},{"type":"reference","isActive":true,"identifier":"doc:\/\/osckit-tcp.OSCKit\/documentation\/OSCKit\/OSCTCPClient"},{"type":"text","text":" docs), then you can begin sending data."}]},{"type":"codeListing","code":["try oscClient.send(\/* ... *\/)"],"syntax":"swift"},{"type":"heading","anchor":"TCP-Server","level":3,"text":"TCP Server"},{"type":"paragraph","inlineContent":[{"text":"Ensure the server is started first (see ","type":"text"},{"identifier":"doc:\/\/osckit-tcp.OSCKit\/documentation\/OSCKit\/OSCTCPServer","isActive":true,"type":"reference"},{"text":" docs), then you can begin sending data to connected clients after they have established a connection.","type":"text"}]},{"type":"codeListing","code":["\/\/ send an OSC bundle or message to all currently connected clients","try oscServer.send(\/* ... *\/)"],"syntax":"swift"},{"type":"codeListing","code":["\/\/ send an OSC bundle or message to one or more currently connected clients","","\/\/ (this is provided simply as an example and should not be typical usage.","\/\/ it may be better practise to implement your own handshaking using OSC","\/\/ messages in order for a client to identify itself to the server and be","\/\/ paired with its client ID, and not rely on host\/IP which may be brittle)","","\/\/ clients currently connected can be queried from the server instance","let clientIDs = oscServer.clients","    .filter { $0.value.host == \"192.168.1.20\" } \/\/ find the client(s) you want","    .keys \/\/ returns array of client IDs","try oscServer.send(\/* ... *\/, toClientIDs: clientIDs)"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"Note that client IDs are transient and only valid for the lifecycle of the connection. These IDs are randomly generated for each connection session and therefore should not be stored persistently or used beyond the scope of identifying currently-connected clients. (See ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/osckit-tcp.OSCKit\/documentation\/OSCKit\/OSCTCPClientSessionID"},{"text":")","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"See ","type":"text"},{"overridingTitleInlineContent":[{"type":"text","text":"OSC Messages"}],"identifier":"#OSC-Messages","overridingTitle":"OSC Messages","type":"reference","isActive":true},{"text":" and ","type":"text"},{"type":"reference","isActive":true,"overridingTitleInlineContent":[{"text":"OSC Bundles","type":"text"}],"overridingTitle":"OSC Bundles","identifier":"#OSC-Bundles"},{"text":" below for details on how to construct messages and bundles.","type":"text"}]},{"type":"heading","anchor":"OSC-Messages","level":2,"text":"OSC Messages"},{"type":"paragraph","inlineContent":[{"text":"To send a single message, construct an ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/osckit-tcp.OSCKit\/documentation\/OSCKit\/OSCMessage"},{"type":"text","text":" and send it using the client or socket instance."}]},{"type":"codeListing","code":["let msg = OSCMessage(\"\/test\", values: [\"string\", 123])","","try oscClient.send(msg, to: \"192.168.1.2\", port: 8000)"],"syntax":"swift"},{"type":"heading","anchor":"OSC-Bundles","level":2,"text":"OSC Bundles"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To send multiple OSC messages or nested OSC bundles to the same destination at the same time, pack them in an "},{"type":"codeVoice","code":"OSCBundle"},{"type":"text","text":" and send it using the client or socket instance."}]},{"type":"codeListing","code":["\/\/ Option 1: build elements separately","let msg1 = OSCMessage(\"\/msg1\")","let msg2 = OSCMessage(\"\/msg2\", values: [\"string\", 123])","let bundle = OSCBundle([msg1, msg2])","","\/\/ Option 2: build elements inline","let bundle = OSCBundle([","    .message(\"\/msg1\"),","    .message(\"\/msg2\", values: [\"string\", 123])","])","","\/\/ send the bundle","try oscClient.send(bundle, to: \"192.168.1.2\", port: 8000)"],"syntax":"swift"},{"type":"heading","anchor":"Sending-OSC-Bundles-with-a-Future-Time-Tag","level":3,"text":"Sending OSC Bundles with a Future Time Tag"},{"type":"paragraph","inlineContent":[{"type":"text","text":"OSC bundles carry a time tag. If not specified, by default a time tag equivalent to “immediate” is used, which indicates to receivers that they should handle the bundle and the message(s) it contains immediately upon receiving them."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"It is possible to specify a future time tag. When present, a receiver which adheres to the OSC 1.0 spec will hold the bundle in memory and handle it at the future time specified in the time tag."}]},{"type":"codeListing","code":["\/\/ by default, bundles use an immediate time tag; these two lines are identical:","OSCBundle([ ... ])","OSCBundle(timeTag: .immediate(), [ ... ])","","\/\/ specify a non-immediate time tag of the current time","OSCBundle(timeTag: .now(), [ ... ])","","\/\/ 5 seconds in the future","OSCBundle(timeTag: .timeIntervalSinceNow(5.0), [ ... ])","","\/\/ at the specified time as a Date instance","let date = Date( ... )","OSCBundle(timeTag: .future(date), [ ... ])","","\/\/ a raw time tag can also be supplied","let timeTag: UInt64 = 16535555370123264000","OSCBundle(timeTag: .init(timeTag), [ ... ])"],"syntax":"swift"}],"kind":"content"}],"abstract":[{"type":"text","text":"Sending OSC messages and bundles."}],"kind":"article","seeAlsoSections":[{"title":"Welcome","generated":true,"identifiers":["doc:\/\/osckit-tcp.OSCKit\/documentation\/OSCKit\/Getting-Started","doc:\/\/osckit-tcp.OSCKit\/documentation\/OSCKit\/OSC-Value-Types","doc:\/\/osckit-tcp.OSCKit\/documentation\/OSCKit\/Receiving-OSC"],"anchor":"Welcome"}],"hierarchy":{"paths":[["doc:\/\/osckit-tcp.OSCKit\/documentation\/OSCKit"]]},"metadata":{"role":"article","title":"Sending OSC","modules":[{"name":"OSCKit"}],"roleHeading":"Article"},"variants":[{"paths":["\/documentation\/osckit\/sending-osc"],"traits":[{"interfaceLanguage":"swift"}]}],"references":{"doc://osckit-tcp.OSCKit/documentation/OSCKit/OSCTCPClientSessionID":{"abstract":[{"type":"text","text":"Identifier tag used by "},{"identifier":"doc:\/\/osckit-tcp.OSCKit\/documentation\/OSCKit\/OSCTCPServer","type":"reference","isActive":true},{"type":"text","text":" to uniquely identify a connected client session."}],"type":"topic","url":"\/documentation\/osckit\/osctcpclientsessionid","title":"OSCTCPClientSessionID","role":"symbol","navigatorTitle":[{"text":"OSCTCPClientSessionID","kind":"identifier"}],"kind":"symbol","fragments":[{"text":"typealias","kind":"keyword"},{"text":" ","kind":"text"},{"text":"OSCTCPClientSessionID","kind":"identifier"}],"identifier":"doc:\/\/osckit-tcp.OSCKit\/documentation\/OSCKit\/OSCTCPClientSessionID"},"doc://osckit-tcp.OSCKit/documentation/OSCKit/Getting-Started":{"title":"Getting Started","url":"\/documentation\/osckit\/getting-started","role":"article","type":"topic","identifier":"doc:\/\/osckit-tcp.OSCKit\/documentation\/OSCKit\/Getting-Started","abstract":[{"text":"Getting started with using OSCKit in your application.","type":"text"}],"kind":"article"},"doc://osckit-tcp.OSCKit/documentation/OSCKit/OSCMessage":{"abstract":[{"type":"text","text":"OSC Message."}],"identifier":"doc:\/\/osckit-tcp.OSCKit\/documentation\/OSCKit\/OSCMessage","role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"OSCMessage","kind":"identifier"}],"title":"OSCMessage","url":"\/documentation\/osckit\/oscmessage","navigatorTitle":[{"text":"OSCMessage","kind":"identifier"}],"type":"topic","kind":"symbol"},"doc://osckit-tcp.OSCKit/documentation/OSCKit/OSCTCPClient":{"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"OSCTCPClient"}],"identifier":"doc:\/\/osckit-tcp.OSCKit\/documentation\/OSCKit\/OSCTCPClient","type":"topic","kind":"symbol","role":"symbol","url":"\/documentation\/osckit\/osctcpclient","abstract":[{"text":"Connects to a remote host via TCP connection in order to send and receive OSC packets over the network.","type":"text"}],"navigatorTitle":[{"kind":"identifier","text":"OSCTCPClient"}],"title":"OSCTCPClient"},"doc://osckit-tcp.OSCKit/documentation/OSCKit/OSCUDPClient":{"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"OSCUDPClient"}],"navigatorTitle":[{"kind":"identifier","text":"OSCUDPClient"}],"title":"OSCUDPClient","url":"\/documentation\/osckit\/oscudpclient","abstract":[{"text":"Sends OSC packets over the network using the UDP network protocol.","type":"text"}],"type":"topic","role":"symbol","identifier":"doc:\/\/osckit-tcp.OSCKit\/documentation\/OSCKit\/OSCUDPClient","kind":"symbol"},"#OSC-Bundles":{"title":"OSC Bundles","url":"#OSC-Bundles","titleInlineContent":[{"type":"text","text":"OSC Bundles"}],"type":"link","identifier":"#OSC-Bundles"},"doc://osckit-tcp.OSCKit/documentation/OSCKit/OSCTCPServer":{"title":"OSCTCPServer","kind":"symbol","navigatorTitle":[{"text":"OSCTCPServer","kind":"identifier"}],"identifier":"doc:\/\/osckit-tcp.OSCKit\/documentation\/OSCKit\/OSCTCPServer","abstract":[{"type":"text","text":"Listens on a local port for TCP connections in order to send and receive OSC packets over the network."}],"url":"\/documentation\/osckit\/osctcpserver","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"OSCTCPServer","kind":"identifier"}],"type":"topic","role":"symbol"},"doc://osckit-tcp.OSCKit/documentation/OSCKit/OSC-Value-Types":{"type":"topic","role":"collectionGroup","abstract":[{"type":"text","text":"OSC Message value types."}],"kind":"article","identifier":"doc:\/\/osckit-tcp.OSCKit\/documentation\/OSCKit\/OSC-Value-Types","url":"\/documentation\/osckit\/osc-value-types","title":"OSC Value Types"},"doc://osckit-tcp.OSCKit/documentation/OSCKit/Receiving-OSC":{"title":"Receiving OSC","url":"\/documentation\/osckit\/receiving-osc","role":"collectionGroup","type":"topic","identifier":"doc:\/\/osckit-tcp.OSCKit\/documentation\/OSCKit\/Receiving-OSC","abstract":[{"text":"Receiving OSC messages and bundles.","type":"text"}],"kind":"article"},"#OSC-Messages":{"title":"OSC Messages","url":"#OSC-Messages","titleInlineContent":[{"text":"OSC Messages","type":"text"}],"type":"link","identifier":"#OSC-Messages"},"doc://osckit-tcp.OSCKit/documentation/OSCKit":{"abstract":[{"text":"Open Sound Control (OSC) library for macOS, iOS and tvOS.","type":"text"}],"identifier":"doc:\/\/osckit-tcp.OSCKit\/documentation\/OSCKit","title":"OSCKit","type":"topic","url":"\/documentation\/osckit","kind":"symbol","role":"collection"},"doc://osckit-tcp.OSCKit/documentation/OSCKit/OSCUDPSocket":{"type":"topic","identifier":"doc:\/\/osckit-tcp.OSCKit\/documentation\/OSCKit\/OSCUDPSocket","navigatorTitle":[{"text":"OSCUDPSocket","kind":"identifier"}],"kind":"symbol","url":"\/documentation\/osckit\/oscudpsocket","title":"OSCUDPSocket","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"OSCUDPSocket","kind":"identifier"}],"abstract":[{"text":"Sends and receives OSC packets over the network by binding a single local UDP port to both send","type":"text"},{"text":" ","type":"text"},{"text":"OSC packets from and listen for incoming packets.","type":"text"}],"role":"symbol"}}}